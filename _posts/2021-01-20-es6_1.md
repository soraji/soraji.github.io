---
layout: post
title:  "[ES6+] Async Await"
categories: js 
comments: true

---

<br>

## async / await

ë“œë””ì–´..!! ë“œë””ì–´ ë°°ìš°ëŠ”êµ¬ë‚˜ ë‘ë‘¥

íì—‰ ì—„ì²­ ë°°ìš°ê³  ì‹¶ì—ˆë˜ ë¶€ë¶„ì´ë‹¤.. ì•ìœ¼ë¡œ ë‚˜ì˜¬ í´ë˜ìŠ¤ë„ ì—„ì²­ë‚˜ê²Œ ê¸°ëŒ€ê¸°ëŒ€

async / awaitëŠ” ë‘ í”„ë¡œë¯¸ìŠ¤ì˜ ì—…ë°ì´íŠ¸ì´ë‹¤(ì½”ë“œ ê°€ë…ì„±ì„ ìœ„í•´ ì“°ë©´ ì¢‹ìŒ)

*`then` ì´ë‚˜ `catch`ê°™ì€ê²ƒë“¤ì€ êµ¬ì‹ì´ë¼ê³  í•œë‹¤ ğŸ™€ ì‹œìƒì—ë‚˜*

ê²°êµ­ì€ thenì„ ì´ìš©í•˜ê²Œ ë˜ë©´ ìˆ˜ë§ì€ thenì„ ì‚¬ìš©í•  ìˆ˜ ë°–ì— ì—†ê³ , ì´ê²ƒì€ ê°€ë…ì„±ì„ ë–¨ì–´íŠ¸ë¦°ë‹¤ëŠ” ê²ƒì´ë‹¤(ë§ëŠ”ë§...)

ê·¸ëŸ¬ë¯€ë¡œ asyncì™€ awaitì€ ê¸°ë³¸ì ìœ¼ë¡œ í”„ë¡œë¯¸ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œë¥¼ ë” ì¢‹ê²Œ ë³´ì´ê²Œ í•˜ëŠ” ë¬¸ë²•ì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤



ê¸°ë³¸ì ìœ¼ë¡œ asyncì™€ awaitëŠ” promiseë°–ì—ì„œ ê°’ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆëŠ” ë°©ë²•ì´ë‹¤



---

ì²«ë²ˆì§¸ë¡œ, awaitëŠ” í™€ë¡œ ì“°ì¼ ìˆ˜ ì—†ë‹¤!!

í•­ìƒ async functionì•ˆì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

~~~javascript
fetch("https://yts.am/api/v2/list_movies.json")
.then(response => {
  console.log(response);
  return response.json();
})
.then(json => console.log(json))
.catch(e => console.log(e))

const getMovies = async() => {
  
}

//í™”ì‚´í‘œí•¨ìˆ˜ë¥¼ ì“°ê³  ì‹¶ì§€ ì•Šìœ¼ë©´ ì•„ë˜ì²˜ëŸ¼ ì ê¸°..(ìœ„ í•¨ìˆ˜ì™€ ë™ì¼í•˜ê²Œ ì‘ë™)
async function getMovies(){
  
}
~~~

ê¸°ì–µí•´ì•¼í•  ê²ƒ : ` asyncë¥¼ ë§¨ ì•ì— ì ì–´ì£¼ì–´ì•¼í•¨`



<br>

<br>

<br>

ìì...ë¹„êµí•´ë´…ì‹œë‹¤

~~~javascript
const getMoviesPromise = () => {
  fetch("https://yts.am/api/v2/list_movies.json")
  .then(response => {
    console.log(response);
    return response.json();
  })
  .then(json => console.log(json))
  .catch(e => console.log(e))
}

//1ë²ˆ ê²½ìš°(ì•„ì§ await ì•ˆì“´ ê²½ìš°)
//ì½˜ì†”ì— pendingìœ¼ë¡œ ëœ¬ë‹¤
const getMoviesAsync = async () => {
  const response = fetch("https://yts.am/api/v2/list_movies.json");
  console.log(response);
  //Promise{<pending>}
}

//2ë²ˆ ê²½ìš°(awaitë¥¼ ì¨ë³´ì)
//awaitëŠ” ê¸°ë³¸ì ìœ¼ë¡œ promiseê°€ ëë‚˜ê¸¸ ê¸°ë‹¤ë¦°ë‹¤
const getMoviesAsync = async () => {
  const response = await fetch("https://yts.am/api/v2/list_movies.json");
  console.log(response);
  //Response {type:.......}
  
  const json = await response.json();
  console.log(json);
  //{status: "OK".......}
}
getMoviesAsync();
~~~

1ë²ˆê²½ìš° - awaitì‚¬ìš© ì•ˆí–ˆì„ë•Œ

`const reponse = fetch("https://yts.am/api/v2/list_movies.json");` ì´ë ‡ê²Œ ì“°ëŠ”ê±´ promiseë¥¼ ë„£ì„ ë³€ìˆ˜ë¥¼ ìƒˆë¡œ ì„ ì–¸í•œ ê²ƒì´ë‹¤

<br>

2ë²ˆ ê²½ìš° - awaitì‚¬ìš©í–ˆì„ë•Œ

`await fetch` ë¡œ ë°›ì•„ì˜¨ `response` ëŠ” ê°€ì¥ ìœ„ì˜ thenì•ˆì— ìˆëŠ”

`response => {
    console.log(response);
    return response.json();
  }`

ì´ ì½”ë“œì™€ ë™ì¼í•˜ë‹¤. ì´ ë§ì¸ì¦‰ `await`ëŠ” 

`response => {
    console.log(response);
    return response.json();
  }` 

ì´ ëª…ë ¹ì„ ì‹¤í–‰í•´ì£¼ê³  ìˆëŠ”ê±°ë‹¤

<br>

ë‹¤ì‹œ ë§í•´ì„œ, awaitëŠ” promiseê°€ ëë‚˜ê¸°ë¥¼ ê¸°ë‹¤ë ¤ì£¼ëŠ”ê²ƒì´ë‹¤

ì„±ê³µì„ ê¸°ë‹¤ë¦¬ëŠ”ê²Œ ì•„ë‹ˆë¼ resolveë˜ë“  rejectë˜ë“  ëë‚˜ê¸¸ ê¸°ë‹¤ë ¤ì£¼ëŠ”ê²ƒ!!!

<br>

<Br>

ë…¸ë§ˆë“œì½”ë”ì˜ 'ES6ì˜ ì •ì„'ì„ ë“£ê³  ì •ë¦¬ =)











