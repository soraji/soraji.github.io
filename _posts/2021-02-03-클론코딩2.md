---
layout: post
title:  "[clone coding] í™”ë©´ì— íŠ•ê¸°ëŠ” ê³µ ë§Œë“¤ê¸°"
categories: algo 
comments: true


---

ê³µì„ ê·¸ë¦´ë•ŒëŠ” í•­ìƒ ì¤‘ì‹¬ì ì„ ê¸°ì¤€ìœ¼ë¡œ ê³µì˜ x, y ê°’ì„ ì¡ëŠ”ë‹¤.

ê·¸ë˜ì„œ ê³µì„ ê·¸ë¦¬ê²Œ ë˜ë©´ ê·¸ ì¤‘ì‹¬ì ì´ ê³µì˜ ì‹¤ì œ ìœ„ì¹˜ê°€ ëœë‹¤.

ë°˜ì§€ë¦„ì´ êµ‰ì¥íˆ ì¤‘ìš”í•˜ë‹¤. x,y ê°’ì—ë‹¤ê°€ ë°˜ì§€ë¦„ì„ ë”í•´ì£¼ê³  ë¹¼ì£¼ì–´ì•¼ ì‹¤ì œë¡œ ê³µì´ íŠ•ê¸¸ë•Œ ë¸Œë¼ìš°ì €ì— ë‹¿ì•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ë‹¤

ê·¸ë˜ì„œ ê³µì— x,yê°’ì„ ë¹„êµí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ë°˜ì§€ë¦„ì„ ë”í•œ ê°’ í˜¹ì€ ëº€ ê°’ì„ ì´ë ‡ê²Œ ì •ì˜í•´ì„œ ê³µì´ ì‹¤ì œë¡œ ì–´ë””ì— ë‹¿ì•˜ëŠ”ì§€ë¥¼ íŒë‹¨í•œë‹¤.

ë¸Œë¼ìš°ì €ìƒì—ì„œ ê³µì— ì›€ì§ì„ì„ ì£¼ê²Œ ë˜ë©´ x,yì—ë‹¤ê°€ vx, vyë¼ëŠ” ì„ì˜ì˜ ê°’ì„ ë”í•´ì£¼ê²Œ ë˜ëŠ”ë°

ê·¸ëŸ¬ë©´ xê°’ê³¼ yê°’ì´ ê³„ì† ì¦ê°€í•˜ê±°ë‚˜ ê°ì†Œí• í…Œë‹ˆ ì›€ì§ì„ì„ ê°€ì§€ê³  ê·¸ë¦´ ìˆ˜ ìˆê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.

ê·¸ë ‡ê²Œ ê³µì´ vxì™€ vyë¥¼ ë”°ë¼ì„œ ì›€ì§ì´ê²Œ ëœë‹¤.

xê°’ì„ ë°˜ì§€ë¦„ ê°’ê³¼ ë¹„êµí•´ì„œ ì¢Œìƒê·€ê°€ ë¸Œë¼ìš°ì €ì˜ 0,0ì¸ë° xê°€ 0ì— ë‹¿ì•˜ëŠ”ì§€ í™•ì¸í•œë‹¤.

ë§Œì•½ì— ë‹¿ì•˜ë‹¤ê³  ì¹˜ë©´ vx, ì¦‰ xê°€ ë‹¿ì•˜ìœ¼ë‹ˆê¹Œ ì´ vxì— -1ì„ ê³±í•´ì¤€ë‹¤. 

ê·¸ëŸ¬ë©´ yê°’ì€ ì¦ê°€í•˜ê³  xê°’ì€ ê°ì†Œí•˜ëŠ” ê·¸ëŸ° ì›€ì§ì„ì„ ê°€ì§€ê²Œ ëœë‹¤.

ê·¸ë•Œ xê°’ì— -1ì„ ê³±í•´ì£¼ë©´ xê°’ì´ ë‹¤ì‹œ ì¦ê°€í•˜ê²Œ ë˜ë‹ˆ xê°€ ì™¼ìª½ìœ¼ë¡œ ì›€ì§ì´ë˜ ê²ƒì´ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì›€ì§ì´ê²Œ ë˜ê³ 

yëŠ” ìœ„ë¡œ ê°€ê³ , ì´ëŸ°ì‹ìœ¼ë¡œ ê³µì´ ê·¸ë ¤ì§€ê²Œ ëœë‹¤.

ê·¸ë˜ì„œ íŠ•ê²¨ì§€ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ”ê±°ë‹¤.

yê°’ì´ 0ì— ë‹¿ì•˜ë‹¤ë©´ ì¦ê°€í•˜ë˜ yê°’ì„ ë°˜ëŒ€ë¡œ ê°ì†Œí•˜ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤ =>ê³µì´ ì•„ë˜ë¡œ ì›€ì§ì„



//index.html

~~~html
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <script type="module" src="app.js"></script>
</body>
</html>
~~~



//style.css

~~~css
*{
  outline:0;
  margin:0;
  padding:0;
}

html{
  width:100%;
  height:100%;
}

body{
  width:100%;
  height:100%;
  background-color: #c5beaf;
}

canvas{
  width:100%;
  height:100%;
}
~~~



//app.js

~~~javascript
import {Ball} from './ball.js';
import {Block} from './block.js';

class App{
  constructor(){
    this.canvas = document.createElement('canvas');
    this.ctx = this.canvas.getContext('2d');

    document.body.appendChild(this.canvas);

    //í•­ìƒ ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸ë¥¼ ê±¸ì–´ë‘ê³  ì‹œì‘ì„ í•œë‹¤ê³  í•˜ì‹¬. í˜„ì¬ ë‚´ê°€ ë§Œë“¤ê³ ì í•˜ëŠ” ì• ë‹ˆë©”ì´ì…˜ì˜ í¬ê¸°ë¥¼ ì•„ëŠ” ê²ƒì´ êµ‰ì¥íˆ ì¤‘ìš”í•œë°, ë¦¬ì‚¬ì´íŠ¸ ì´ë²¤íŠ¸ë¥¼ ê±¸ì–´ë†“ê³  ìŠ¤í¬ë¦° ì‚¬ì´ì¦ˆë¥¼ ê°€ì§€ê³  ì™€ì„œ ì• ë‹ˆë©”ì´ì…˜ì„ ì •ì˜í•´ ì¤€ë‹¤ëŠ” ê²ƒì´ë‹¤.
    //ë¸Œë¼ìš°ì €ê°€ ê°€ë³€ì ì´ê¸° ë–„ë¬¸ì— ìŠ¤í¬ë¦°ì‚¬ì´ì¦ˆ ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜ë¥¼ ë¨¼ì € ì •ì˜í•´ì£¼ê³  ì‘ì—…í•˜ëŠ”ê²Œ ë‚˜ì¤‘ì„ ìœ„í•´ì„œë¼ë„ ë” ë‚«ë‹¤
    window.addEventListener('resize', this.resize.bind(this), false);
    this.resize();

    //Ballì„ importí•œ í›„ ì‘ì„±í•œë‹¤. importí•œ ballì„ ê°€ì§€ê³  drawí•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ê·¸ë¦°ë‹¤.
    this.ball = new Ball(this.stageWidth, this.stageHeight, 60, 15);  //ë°˜ì§€ë¦„ì„ 60ìœ¼ë¡œ, ì†ë„ë¥¼ 15ë¡œ
    //Blockì„ importí•œ í›„ ì‘ì„±í•œë‹¤. importí•œ blockì„ ê°€ì§€ê³  drawí•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ê·¸ë¦°ë‹¤.
    this.block =  new Block(700, 30, 50, 450); //ë„“ì´ 700, ë†’ì´ 30, ê·¸ë¦¬ê³  300/450ì˜ ìœ„ì¹˜ë¡œ ë§Œë“¤ì–´ì¤€ë‹¤

    //requestAnimationFrameì„ ê±¸ê³ , ê±°ê¸°ì— ì• ë‹ˆë©”ì´ì…˜ì„ ì‹¤ì œë¡œ êµ¬ë™ì‹œí‚¤ëŠ” í•¨ìˆ˜ë¥¼ ë§Œë“¤ì–´ì¤€ë‹¤
    window.requestAnimationFrame(this.animate.bind(this));
  }

  resize(){
    this.stageWidth = document.body.clientWidth;
    this.stageHeight = document.body.clientHeight;

    this.canvas.width = this.stageWidth * 2;
    this.canvas.height = this.stageHeight * 2;
    this.ctx.scale(2,2);
  }

  animate(t){
    window.requestAnimationFrame(this.animate.bind(this));

    //ì´ë ‡ê²Œê¹Œì§€ë§Œí•˜ë©´ ì• ë‹ˆë©”ì´ì…˜ì´ë¼, ê³„ì† ë­”ê°€ë¥¼ ìƒì„±í•˜ëŠ”ë°, ìƒì„±í•˜ê¸° ì´ì „ì˜ í”„ë ˆì„ì„ ì§€ì›Œì¤„ í•„ìš”ê°€ ìˆë‹¤.
    //clearRectë¥¼ í•˜ê³ ë‚˜ë©´ ê³µì´ íŠ•ê¸°ëŠ” ê±³ì²˜ëŸ¼ ë³´ì´ëŠ”ë°, ì´ì „ê·¸ë¦¼ê³¼ ë‹¤ìŒê·¸ë¦¼ì„ ë²ˆê°ˆì•„ ê°€ë©´ì„œ ë³´ì—¬ì£¼ëŠ” ê²ƒì¼ë¿ì¸ë° íŠ•ê¸°ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì¸ë‹¤
    //ì´ì „ì— ìƒì„±ë˜ì—ˆë˜ê²ƒì„ ì§€ì›Œì¤Œìœ¼ë¡œì¨ ì• ë‹ˆë©”ì´ì…˜ì´ ì›€ì§ì´ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì—¬ì§€ëŠ” ê²ƒì´ë‹¤
    this.ctx.clearRect(0, 0, this.stageWidth, this.stageHeight);

    //Blockì„ importí•œ í›„ ì‘ì„±í•œë‹¤.
    //ballì˜ ìœ„ì¹˜ë¥¼ íŒŒì•…í•´ì„œ ë°˜ì‚¬ê°’ì„ ì •ì˜í•´ì¤€ë‹¤
    this.block.draw(this.ctx);
    //Ballì„ importí•œ í›„ ì‘ì„±í•œë‹¤.
    this.ball.draw(this.ctx, this.stageWidth, this.stageHeight, this.block);
  }
}

window.onload = () =>{
  new App();
}
~~~



ball.js

~~~javascript
export class Ball{
  //stageì‚¬ì´ì¦ˆë¥¼ ê°€ì ¸ì˜¤ê³  ë°˜ì§€ë¦„, ì†ë„ë¥¼ ê°€ì ¸ì˜¨ë‹¤
  constructor(stageWidth, stageHeight, radius, speed){
    this.radius = radius;
    //vxì™€ vyëŠ” x,yì¢Œí‘œê°’ì„ ì›€ì§ì´ëŠ” ì†ë„ë¼ê³  ì •í•´ì¤€ë‹¤
    this.vx = speed;
    this.vy = speed;

    //ìŠ¤í…Œì´ì§€ì— ëœë¤ìœ¼ë¡œ ìœ„ì¹˜í•  ìˆ˜ ìˆê²Œ í•¨ìˆ˜ë¥¼ ì •ì˜ í•´ì£¼ì—ˆë‹¤
    const diameter = this.radius * 2;
    this.x = diameter + (Math.random() * (stageWidth - diameter) );
    this.y = diameter + (Math.random() * (stageHeight - diameter) );
  }

  //ê·¸ë¦¬ê³  drawí•¨ìˆ˜ë¥¼ í•˜ë‚˜ ë§Œë“¤ê³  contextë¥¼ ê°€ì ¸ì˜¨ë‹¤. ê·¸ëŸ¬ë©´ ìº”ë²„ìŠ¤ contextì— ê·¸ë¦¼ì„ ê·¸ë¦´ ìˆ˜ ìˆëŠ” í•¨ìˆ˜ê°€ ì™„ì„±ëœë‹¤
  //+)ë¸”ëŸ­ì„ ë§Œë“  í›„ì— ê³µì´ ë¸”ëŸ­ì— íŠ•ê¸°ë„ë¡ ë§Œë“¤ì–´ì•¼í•˜ê¸° ë•Œë¬¸ì— blockì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ì¤€ë‹¤
  draw(ctx, stageWidth, stageHeight, block){
    //x,yê°’ì— vx,vyê°’ì„ ë”í•´ì¤˜ì„œ ê³µì´ ì›€ì§ì´ë„ë¡ ë§Œë“¤ì–´ì¡Œë‹¤
    this.x += this.vx;
    this.y += this.vy;

    this.bounceWindow(stageWidth, stageHeight);

    //ballì˜ ìœ„ì¹˜ë¥¼ íŒŒì•…í•´ì„œ ë°˜ì‚¬ê°’ì„ ì •ì˜í•´ì¤€ë‹¤
    // console.log(block)
    this.bounceBlock(block);

    //ê³µì— ìƒ‰ì„ ì •í•˜ê³  ê·¸ë¦¼ ê·¸ë¦¬ê¸° ì‹œì‘
    ctx.fillStyle = '#6495ED';
    ctx.beginPath();
    ctx.arc(this.x, this.y, this.radius, 0, 2 * Math.PI);
    ctx.fill();
  }

  //ìŠ¤í…Œì´ì§€ìƒì— ë‹¿ì•˜ëŠ”ì§€ë¥¼ íŒë‹¨í•˜ëŠ” í•¨ìˆ˜. 
  bounceWindow(stageWidth, stageHeight){
    const minX = this.radius;
    const maxX = stageWidth - this.radius;
    const minY = this.radius;
    const maxY = stageHeight - this.radius;

    //ë‹¿ì•˜ë‹¤ë©´ ë°˜ëŒ€ë¡œ íŠ•ê¸°ëŠ” ê¸°ëŠ¥. ê³µì´ ì–´ë””ì— ìˆëŠ”ì§€ íŒë‹¨ì„ í•˜ê³ vx, vyì— -1ì„ ê³±í•´ì¤˜ì„œ ë°˜ëŒ€ë¡œ ì›€ì§ì´ë„ë¡ í•œë‹¤
    if(this.x <= minX || this.x >= maxX){
      this.vx *= -1;
      this.x += this.vx;
    }else if(this.y <= minY || this.y >= maxY){
      this.vy *= -1;
      this.y += this.vy;
    }
  }

  //ë¸”ëŸ­ì— íŠ•ê¸°ê²Œ í•˜ê¸° ìœ„í•´ ë§Œë“¤ì–´ì¤€ í•¨ìˆ˜. ìœˆë„ìš°ê°€ ì•„ë‹ˆë¼ ê°€ìš´ë°ì— ìˆëŠ” blockì— ë‹¿ì•˜ëŠ”ì§€ë¥¼ íŒë‹¨í•´ì•¼í•œë‹¤
  bounceBlock(block){
    const minX = block.x = this.radius;
    const maxX = block.maxX + this.radius;
    const minY = block.y - this.radius;
    const maxY = block.maxY - this.radius;

    //vxì™€ vyì— -1ì„ ê³±í•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ ê³µì´ íŠ•ê¸°ëŠ” ê±¸ ë§Œë“ ë‹¤
    //ì–‘ì˜†ì— ì¶©ëŒí•˜ëŠ”ì§€ ìœ„ì•„ë˜ ì¶©ëŒí•˜ëŠ”ì§€ íŒë‹¨í•˜ê¸° ìœ„í•´ì„œëŠ” ballì˜ ì¢Œí‘œì™€ blockì˜ ì¢Œí‘œë¥¼ ë¹„êµí•´ì„œ ì–´ëŠê°’ì´ ê°€ì¥ ê·¼ì ‘í•œì§€ë¥¼ ì°¾ìœ¼ë©´ ìœ„ì¹˜ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤
    //ê°’ì´ ì •ì˜ë˜ë©´ ì´ì œ vxë‚˜ vyì— -1ì„ ê³±í•´ì¤€ë‹¤
    if(this.x > minX && this.x < maxX && this.y > minY && this.y < maxY){
      const x1 = Math.abs(minX - this.x);
      const x2 = Math.abs(this.x - maxX);
      const y1 = Math.abs(minY - this.y);
      const y2 = Math.abs(this.y - maxY);
      const min1 = Math.min(x1, x2);
      const min2 = Math.min(y1, y2);
      const min = Math.min(min1, min2);

      if(min == min1){
        this.vx *= -1;
        this.x += this.vx;
      }else if(min == min2){
        this.vy *= -1;
        this.y += this.vy; 
      }


    }
  }
}
~~~

<br>

<br>

block.js

~~~javascript
export class Block{
  //ì´ì œëŠ” ë²½ì„ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ íŠ•ê¸°ëŠ”ê²ƒì²˜ëŸ¼ ë³´ì´ëŠ”ê±¸ ë§Œë“¤ì–´ì¤„ê±°ë‹¤
  constructor(width, height, x, y){
    this.width = width;
    this.height = height;
    this.x = x;
    this.y = y;
    this.maxX = width + x;
    this.maxY = height + y;
  }

  //ê³µì„ ì¶”ì í•˜ê¸° ìœ„í•´ì„œ maximumê°’ë„ ì •ì˜í•´ì¤€ë‹¤. drawí•¨ìˆ˜ì— ì‹¤ì œë¡œ ê·¸ë ¤ì§€ëŠ” ê±¸ ë§Œë“œì–´ì¤€ë‹¤
  draw(ctx){
    const xGap = 80;
    const yGap = 60;

    ctx.fillStyle = '#7393B3';
    ctx.beginPath();
    ctx.rect(this.x, this.y, this.width, this.height);
    ctx.fill();

    //ì¬ë¯¸ë¥¼ ìœ„í•´ ë¸”ëŸ­ ë°‘ì— ê·¸ë¦¼ì ë„£ê¸°
    ctx.fillStyle = '#190f3a';
    ctx.beginPath();
    ctx.moveTo(this.maxX, this.maxY);
    ctx.lineTo(this.maxX - xGap, this.maxY + yGap);
    ctx.lineTo(this.x - xGap, this.maxY + yGap);
    ctx.lineTo(this.x, this.maxY);
    ctx.fill();

    //ì¬ë¯¸ë¥¼ ìœ„í•´ ë¸”ëŸ­ ì˜†ì—ë„ ê·¸ë¦¼ìë„£ê¸°
    ctx.fillStyle = '#9d0919';
    ctx.beginPath();
    ctx.moveTo(this.x, this.y);
    ctx.lineTo(this.x, this.maxY);
    ctx.lineTo(this.x - xGap, this.maxY + yGap);
    ctx.lineTo(this.x - xGap, this.maxY + yGap - this.height);
    ctx.fill();
  }
}
~~~

<br>

<br>

<br>

ì¢Œí‘œê°’ë§Œ ì˜ ì•Œê³  ìˆìœ¼ë©´ ê·¸ë¦¬ê¸° ì‰¬ìš´ê²Œ ìº”ë²„ìŠ¤ë¼ê³  í•œë‹¤..ã„·ã„·ã„·..

ê·¸ë‹ˆê¹Œ ê·¸ ì¢Œí‘œë¥¼ ì–´ë–»ê²Œ í•´ì•¼ ì˜ ì•Œìˆ˜ìˆëŠ”ë°ìš”....ã… _ã…  

ì—­ì‹œ ì²œì¬ë“¤ì€ ë‹¤ë¥´êµ¬ë¨¼...íê·œíê·œ

<br>

<br>

![](/assets/img/IMG_1230.gif)

ê·¼ë° ìŠ¨ìƒë‹˜ ë§ì”€ëŒ€ë¡œí–ˆëŠ”ë° ë­”ê°€ ì‚´ì§ ì°ë”°ë‚¨

ì§„ì§œ ê³ ëŒ€ë¡œí–ˆëŠ”ë°... blockíŠ•ê¸°ëŠ”ê³³ì´ ì‚´ì§ ì°ë”°ë‚˜ê¸´í•˜ì§€ë§Œ... ëœë‹¤ëŠ”ê²ƒì— ì˜ì˜ë¥¼ ë‘ê²ƒë‹¤!

<br>

<br>

interative developer ê¹€ì¢…ë¯¼ ìŠ¨ìƒë‹˜ ìœ íŠœë¸Œë³´ê³  ê³ ëŒ€ë¡œ ë”°ë¼í•¨ ğŸ˜

https://www.youtube.com/watch?v=sLCiI6d5vTM&list=PLGf_tBShGSDNGHhFBT4pKFRMpiBrZJXCm&index=8